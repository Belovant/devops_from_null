# Домашнее задание к занятию "2.8 Ядро операционной системы" Белов Антон

### Задание 1
При каких событиях выполнение процесса переходит в режим ядра?

Приведите ответ в свободной форме.
Ответ: при трех видах событий - аппаратных прерываниях, системных вызовах и особых ситуациях.

### Задание 2
Найдите имя автора модуля libcrc32c.

В качестве ответа приложите скриншот вывода команды.
Ответ: в приложенном скриншоте.

### Задание 3
Используя утилиту strace выясните какой системный вызов использует команда cd.

Примечание: она не является внешним файлом, но для наших целей можно схитрить: strace bash -c 'cd /tmp'.

В качестве ответа напишите название системного вызова.
Ответ: системный вызов chdir

Дополнительные задания (со звездочкой*)
Эти задания дополнительные (необязательные к выполнению) и никак не повлияют на получение вами зачета по этому домашнему заданию. Вы можете их выполнить, если хотите глубже и/или шире разобраться в материале.

### Задание 4
Соберите свой модуль и загрузите его в ядро.

Примечание: лучше использовать чистую виртуальную машину, чтобы нивелировать шанс сломать систему.

1) Установим необходимые пакеты:

apt-get install gcc make linux-headers-$(uname -r)

2) Создаем файл модуля:

cd kmod-hello_world/
touch ./mhello.c
#define MODULE
#include <linux/module.h>
#include <linux/init.h>
#include <linux/kernel.h>

MODULE_LICENSE("GPLv3");

int init_module(void){
    printk("<1> Hello,World\n");
    return 0;
}

void cleanup_module(void){
    printk("<1> Goodbye.\n");
}
3) Создаем Makefile: touch ./Makefile

obj-m += mhello.o

hello-objs := mhello.c

all:
	make -C /lib/modules/$(shell uname -r)/build/ M=$(PWD) modules

clean:
	make -C /lib/modules/$(shell uname -r)/build/ M=$(PWD) clean
Обратите внимание, что отступы перед make - это табуляция, а не пробелы. Для синтаксиса Makefile это важно.

4) Собираем модуль и устанавливаем его с помощью insmod.

make all
insmod path/to/module.ko
В качестве ответа приложите скриншот вывода установки модуля в dmesg.
Ответ: в приложенном скриншоте
